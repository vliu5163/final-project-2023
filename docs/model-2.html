<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 [Model 2] | NYC Yellow Taxi Tipping Patterns</title>
  <meta name="description" content="Chapter 4 [Model 2] | NYC Yellow Taxi Tipping Patterns" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 [Model 2] | NYC Yellow Taxi Tipping Patterns" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 [Model 2] | NYC Yellow Taxi Tipping Patterns" />
  
  
  

<meta name="author" content="Vivian Liu" />


<meta name="date" content="2023-05-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="model-1.html"/>
<link rel="next" href="model-3.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">FINAL</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#data"><i class="fa fa-check"></i><b>1.1</b> Data</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#modeling-goal"><i class="fa fa-check"></i><b>1.2</b> Modeling Goal</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#models"><i class="fa fa-check"></i><b>1.3</b> Models</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#data-sources"><i class="fa fa-check"></i><b>1.4</b> Data Sources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="exploration.html"><a href="exploration.html"><i class="fa fa-check"></i><b>2</b> Exploration</a>
<ul>
<li class="chapter" data-level="2.1" data-path="exploration.html"><a href="exploration.html#data-wrangling"><i class="fa fa-check"></i><b>2.1</b> Data Wrangling</a></li>
<li class="chapter" data-level="2.2" data-path="exploration.html"><a href="exploration.html#data-visualization"><i class="fa fa-check"></i><b>2.2</b> Data Visualization</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="model-1.html"><a href="model-1.html"><i class="fa fa-check"></i><b>3</b> [Model 1]</a></li>
<li class="chapter" data-level="4" data-path="model-2.html"><a href="model-2.html"><i class="fa fa-check"></i><b>4</b> [Model 2]</a></li>
<li class="chapter" data-level="5" data-path="model-3.html"><a href="model-3.html"><i class="fa fa-check"></i><b>5</b> [Model 3]</a></li>
<li class="chapter" data-level="6" data-path="reflections.html"><a href="reflections.html"><i class="fa fa-check"></i><b>6</b> Reflections</a>
<ul>
<li class="chapter" data-level="6.1" data-path="reflections.html"><a href="reflections.html#model-conclusions"><i class="fa fa-check"></i><b>6.1</b> Model Conclusions</a></li>
<li class="chapter" data-level="6.2" data-path="reflections.html"><a href="reflections.html#final-thoughts"><i class="fa fa-check"></i><b>6.2</b> Final Thoughts</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NYC Yellow Taxi Tipping Patterns</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="model-2" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> [Model 2]<a href="model-2.html#model-2" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>For my second model, I decided to a decision tree model so I can see which features the model decides to split on. I’d like to compare the features in this model with the features that OneR ranked as important, and see if they line up. In addition, I’d like to see a more granular breakdown of the distributions of tip conditioned on different predictors.</p>
<p>First, I want to split into test and train.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-35-1.png" width="672" />
For the same reasons as in model1, I decided to choose passenger_count, VendorID, RatecodeID, dropoff_borough, season, and high_fare as my predictors for my decision tree. These are categorical variables with easily interpretable meanings, so I decided to keep these as my predictors.</p>
<p>This is our initial tree with maximum depth (CP=0), which is the maximum fitting we can do (with no pruning). As we can tell, it’s not very interpretable, as it splits on many variables and is very hard to understand. Before we try some pruning, let’s look at the accuracy of this model.</p>
<pre><code>## [1] &quot;Test sensitivity and specificity:&quot;</code></pre>
<pre><code>## [1] 0.116208</code></pre>
<pre><code>## [1] 0.9563813</code></pre>
<p>The sensitivity is not great, but the specificity is pretty good. order to create a more useful model for us, we can turn to pruning to cut down on the predictors the tree tries to split on. To do this, we can take a look at the CP table, which will give us information as to the CP value that gives us the minimal error.</p>
<pre><code>## [1] 0.006116208</code></pre>
<p>It seems that the optimal cp value is 0.006116208, which is higher than our original cp=0. Hopefully, once we raise the cp value the resulting tree will be smaller and easier to interpret.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<p>This is really interesting- and much easier to understand! We see, as in model1, that the dropoff_borough is an important branching factor. Just as the OneR grouped together Bronx, EWR, Queens, and unknown into one group, and Brooklyn, Manhattan into another, our “optimal” decision tree has decided this as its first branching factor. Something new I learned from the RateCodeID being the next branching factor was that rate codes 3 and 5 have overwhelmingly low rates of tipping over 15%. These rate codes correspond to “Newark” and “Negotiated fare.” However, rate codes 1 and 2 have over 50% rates of tipping over 15%, and they are “Standard Rate” and “JFK”, respectively. Interesting to see two set-fare airport rides in different groups!</p>
<p>Finally, let’s look at the specificity and sensitivity of the pruned tree as compared to the original, unpruned tree.</p>
<pre><code>## [1] &quot;Test sensitivity and specificity:&quot;</code></pre>
<pre><code>## [1] 0.1253823</code></pre>
<pre><code>## [1] 0.9628433</code></pre>
<p>The sensitivity and specificity for the test set on the pruned tree is slightly better than that of the unpruned tree. However, it is important to note that the sensitivity (true positive rate) is quite low, while the specificity (true negative rate) is quite high. We don’t gain that much from pruning.</p>
<p>Let’s get another view on this using an ROC curve.</p>
<pre><code>## geom_label_repel: parse = FALSE, box.padding = 0.25, label.padding = 0.25, point.padding = 1e-06, label.r = 0.15, label.size = 0.25, min.segment.length = 0.5, arrow = NULL, na.rm = FALSE, force = 1, force_pull = 1, max.time = 0.5, max.iter = 10000, max.overlaps = 10, nudge_x = 0, nudge_y = 0, xlim = c(NA, NA), ylim = c(NA, NA), direction = both, seed = NA, verbose = FALSE
## stat_identity: na.rm = FALSE
## position_identity</code></pre>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b252973c848d36db8210" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-b252973c848d36db8210">{"x":{"data":[{"x":[1,1,1,1,1,1,1,1,1,1,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.996828752642706,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0.932346723044397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["fpr: 1.0000000<br />tpr: 0<br />threshold: 0.00","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.01","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.02","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.03","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.04","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.05","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.06","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.07","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.08","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.09","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.10","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.11","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.12","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.13","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.14","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.15","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.16","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.17","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.18","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.19","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.20","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.21","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.22","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.23","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.24","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.25","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.26","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.27","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.28","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.29","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.30","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.31","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.32","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.33","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.34","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.35","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.36","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.37","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.38","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.39","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.40","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.41","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.42","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.43","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.44","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.45","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.46","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.47","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.48","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.49","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.50","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.51","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.52","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.53","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.54","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.55","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.56","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.57","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.58","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.59","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.60","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.61","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.62","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.63","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.64","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.65","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.66","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.67","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.68","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.69","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.70","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.71","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.72","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.73","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.74","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.75","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.76","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.77","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.78","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.79","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.80","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.81","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.82","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.83","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.84","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.85","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.86","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.87","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.88","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.89","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.90","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.91","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.92","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.93","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.94","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.95","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.96","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.97","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.98","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.99","fpr: 0.0000000<br />tpr: 0<br />threshold: 1.00"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"frame":null},{"x":[1.15469048079103,0.88170070911292,0.882715745363384,1.08915237768088,0.99783636641223,0.919706647167914,1.13419862522278,0.816328713437542,0.987602335517295,1.01054997975007,1.17494860310408,0.820553434503473,1.18185297430328,1.09810451274107,1.12911143696702,0.751762017796956,0.770627818143204,1.01468005678917,0.811831494284071,1.2070451783512,0.883214177170977,1.00663049142177,1.09472120374276,0.787019398136273,1.1474271040207,1.16606904887895,0.92206583156085,1.05177486148032,1.21125151224269,1.0262319586037,1.16248306045609,0.98415826186838,0.790647654750593,0.759087766244285,0.881300473891407,0.747188460503914,0.818168753598094,0.968632519667246,0.967186640089586,0.980773307455912,0.808874276655935,0.868348346164659,1.14204468049875,0.758877502943598,0.858518260254733,0.855128436887845,1.0341343384499,1.06204552354954,0.905146182865942,0.914024579922775,0.920213048697556,0.805047620904738,0.792731265306579,0.726986860392722,1.05776902660924,0.772701897427546,1.17447855952393,1.03150945669237,1.03642267524462,0.805465271232756,0.933580742103154,1.11324665777116,1.18033497291814,1.09698490693896,1.12090865173574,0.855576788659314,1.02759900130528,0.847332210631216,-0.0806804446037859,0.152386748814024,0.0109307904494926,0.00916854199022055,-0.158855686895549,0.117072381079197,0.232240943354554,-0.0524342636344954,0.125622556777671,0.139730292954482,0.140776897314936,0.0963033367879689,-0.0547089913161471,0.0898600248619914,0.0507301813922822,0.193868536269292,-0.152648951043375,-0.068036483367905,-0.249011298874393,-0.201925611472689,-0.231296633719467,-0.0249566610436887,0.0277900164946914,0.170063643134199,-0.227490611956455,-0.233573881327175,0.160995058948174,-0.186696785618551,-0.0532344848616049,0.0213988509494811,0.117127902223729,0.0385565275792032,-0.18426021700725],"y":[-0.0102406271034852,0.223715257947333,0.0525926117552444,0.0540081190411001,0.13331390847452,-0.196981754619628,0.186242946656421,0.22194115514867,-0.135468349559233,0.0965035617118701,-0.116614792845212,-0.237536604516208,0.000954185845330358,-0.0131604062626138,0.171893754624762,-0.193141927011311,-0.0444614356383681,-0.223558743251488,0.208511676406488,0.173577547771856,0.0662327021127567,0.00942871847655624,0.0226521627046168,-0.0673261209158227,-0.199758175527677,-0.0342486036242917,-0.0305899034719914,0.00439106987323612,0.0365737940883264,-0.199421106022783,0.130325712147169,-0.0565003247465938,-0.0889803178142756,0.244492789497599,0.162051332066767,0.171347111812793,-0.0532780180219561,-0.127782484400086,0.0602032777387649,-0.157952181645669,0.102020045858808,-0.19519336160738,-0.0845638553146273,0.133407414657995,-0.157316320459358,0.143128689262085,0.200693820603192,0.13953105150722,-0.0797094592126086,-0.216403164668009,-0.0387437724275514,0.0511631839908659,0.166818865574896,0.0181963598588482,-0.186502948403358,-0.173999249236658,0.211484759231098,0.0457116360776126,-0.0675269814673811,0.0332810531836003,0.14192475611344,0.201013552374206,-0.145084996940568,-0.126044996781275,0.0300103412009776,-0.0660197463585064,-0.01071254350245,-0.210592551506124,0.122004534234293,0.0802988649811596,0.131013038218953,0.136768405209295,-0.179450825322419,0.0429552922723815,-0.184207570157014,-0.244259802973829,0.0467247542692348,0.145756785874255,-0.0226032315986231,-0.137908927630633,-0.0323504559928551,0.20680195861496,0.108740029041655,0.0770373977720737,-0.129228461883031,-0.169547329423949,0.240848532179371,0.154257707647048,0.0634369519539177,0.14083446143195,-0.0464852394070476,0.215488110785373,-0.176647536689416,-0.0535647533833981,-0.231978917028755,-0.178459567832761,0.0519259823486209,-0.235567660769448,-0.0362716761883348,0.219838339136913,-0.193227714044042],"text":["fpr: 1.0000000<br />tpr: 0<br />threshold: 0.00","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.01","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.02","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.03","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.04","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.05","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.06","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.07","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.08","fpr: 1.0000000<br />tpr: 0<br />threshold: 0.09","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.10","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.11","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.12","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.13","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.14","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.15","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.16","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.17","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.18","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.19","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.20","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.21","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.22","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.23","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.24","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.25","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.26","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.27","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.28","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.29","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.30","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.31","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.32","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.33","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.34","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.35","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.36","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.37","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.38","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.39","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.40","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.41","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.42","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.43","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.44","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.45","fpr: 0.9968288<br />tpr: 0<br />threshold: 0.46","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.47","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.48","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.49","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.50","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.51","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.52","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.53","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.54","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.55","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.56","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.57","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.58","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.59","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.60","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.61","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.62","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.63","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.64","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.65","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.66","fpr: 0.9323467<br />tpr: 0<br />threshold: 0.67","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.68","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.69","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.70","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.71","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.72","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.73","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.74","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.75","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.76","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.77","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.78","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.79","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.80","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.81","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.82","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.83","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.84","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.85","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.86","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.87","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.88","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.89","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.90","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.91","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.92","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.93","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.94","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.95","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.96","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.97","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.98","fpr: 0.0000000<br />tpr: 0<br />threshold: 0.99","fpr: 0.0000000<br />tpr: 0<br />threshold: 1.00"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":3.77952755905512,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.322024439430247,1.28426465279854],"tickmode":"array","ticktext":["0.0","0.4","0.8","1.2"],"tickvals":[0,0.4,0.8,1.2],"categoryorder":"array","categoryarray":["0.0","0.4","0.8","1.2"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"fpr","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.268697432597401,0.26893041912117],"tickmode":"array","ticktext":["-0.2","-0.1","0.0","0.1","0.2"],"tickvals":[-0.2,-0.1,0,0.1,0.2],"categoryorder":"array","categoryarray":["-0.2","-0.1","0.0","0.1","0.2"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"tpr","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"17f1114c3b956":{"x":{},"y":{},"label":{},"type":"scatter"},"17f113dbcc7c0":{"x":{},"y":{},"label":{}},"17f1134de2dea":{"x":{},"y":{},"label":{}}},"cur_data":"17f1114c3b956","visdat":{"17f1114c3b956":["function (y) ","x"],"17f113dbcc7c0":["function (y) ","x"],"17f1134de2dea":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>This is a very interesting ROC curve. This seems to indicate that the predictions of the model that I used are just predicting 1 (tipped over 15%) with a probability of 67% for almost every row. The 67% reflects the proportion of the total dataset that tipped over 15%, so it seems that the constructed model isn’t very useful.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="model-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="model-3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/vliu5163/final-project-2023/edit/main/model2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/vliu5163/final-project-2023/blob/main/model2.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
